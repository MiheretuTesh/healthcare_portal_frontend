# Healthcare Portal (Next.js + TypeScript)

A simple healthcare admin UI with Patients, Claims, and Google Sheets sync.

## Quick start

1) Install
```bash
git clone <repository-url>
cd healthcare_portal_frontend
npm install
```

2) Configure environment
Create `.env.local` with your backend base URL (no trailing slash):
```bash
NEXT_PUBLIC_API_URL=http://localhost:3001
```

3) Run
```bash
npm run dev
# app: http://localhost:3000
```

## Pages
- `/patients` — list patients; add patient; link to a dedicated patient’s claims page `/patients/[id]`.
- `/claims` — list claims; tabs All/Pending/Approved/Denied with colored counts; add claim; approve/deny with confirmation; once approved/denied the status cannot change.
- `/sync` — trigger Claims sync to Google Sheets and view recent sync history.

## Notable behavior
- Claim number is generated by the backend (not entered in the UI).
- Status values are lowercase (`pending|approved|denied`).
- Approved/Denied claims are final (no further status changes).
- Inputs use clear validation, loading states, and success/error messages.

## API expectations (backend)
Backend base: `NEXT_PUBLIC_API_URL`

Patients
- `GET /patients` — list
- `GET /patients/:id` — details
- `POST /patients` — create (body: `{ name, email, phone, insurance_provider }`)
- `PUT /patients/:id` — update
- `DELETE /patients/:id` — delete

Claims
- `GET /claims` — list
- `GET /patients/:id/claims` — list by patient
- `POST /claims` — create (body: `{ patientId, amount, status, serviceDate }`)
- `PUT /claims/:id/status` — update status

Google Sheets Sync
- `POST /sync/google-sheets` — sync claims; response: `{ "insertedCount": number }`
- `POST /sync/google-sheets/patients` — (optional) sync patients; response: `{ "insertedCount": number }`
- `POST /sync/google-sheets/history` — returns recent sync history entries

## Tech
- Next.js (App Router), TypeScript, Tailwind CSS
- React Context for state: `PatientContext`, `ClaimContext`, `SyncContext`

## Project structure (summary)
```
src/
  app/
    patients/ (list + /[id] page)
    claims/
    sync/
  components/
  contexts/
  lib/ (api.ts, utils.ts)
  types/
```

## Development notes
- IDs come from the backend (no client-side ID generation).
- No mock data used in contexts; errors are surfaced if the API is unreachable.
